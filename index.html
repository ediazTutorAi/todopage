<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MathAgora — Lecture Hub</title>

  <!-- Reuse your base styles; hub uses inline vars for a light "sunset" palette -->
  <link rel="stylesheet" href="/css/base.css">
  <style>
    /* ===== Sunset palette (light theme) ===== */
    :root{
      --bg:#ffffff;          /* page background */
      --panel:#fef6e4;       /* header/footer band */
      --paper:#ffffff;       /* cards */
      --ink:#222222;         /* primary text */
      --muted:#666666;       /* secondary text */
      --line:#eeeeee;        /* dividers/borders */
      --ring:#f7b538;        /* focus ring (gold) */
      --accent:#f77f00;      /* primary (coral/orange) */
      --accent-2:#d62828;    /* hover/active (warm red) */
      --tag:#6a4c93;         /* pill tags (violet) */
    }

    /* Base */
    html,body{height:100%}
    body{
      margin:0;
      background:var(--bg);
      color:var(--ink);
      font:16px/1.5 system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    }
    .container{max-width:1100px;margin:0 auto;padding:1.25rem}

    /* Header */
    header.site{
      background:var(--panel);
      border-bottom:1px solid var(--line);
      padding:1.25rem 1.25rem;
    }
    header.site h1{margin:.2rem 0;font-size:clamp(28px,3vw,40px); color:var(--ink)}
    header.site .sub{color:var(--muted);margin:0}

    /* Controls (sticky filter bar) */
    .controls{
      position:sticky; top:0; z-index:5;
      background:rgba(254,246,228,.95); /* soft beige */
      backdrop-filter:saturate(1.1) blur(4px);
      border-bottom:1px solid var(--line);
    }
    .row{display:flex;gap:.75rem;align-items:end;padding:.75rem 0;flex-wrap:wrap}
    .lbl{display:block;font-size:.8rem;color:var(--muted);margin-bottom:.25rem}
    select,input[type=search]{
      appearance:none;
      background:var(--bg);
      border:1px solid #dddddd;
      color:var(--ink);
      padding:.6rem .7rem;
      border-radius:.6rem;
    }
    select:focus, input[type=search]:focus{
      outline:2px solid var(--ring);
      outline-offset:2px;
      border-color:var(--ring);
    }
    input[type=search]{flex:1;min-width:240px}

    /* Groups & cards */
    .groups{display:grid;gap:1rem;margin-top:1rem}
    .group{
      background:#fff;
      border:1px solid var(--line);
      border-radius:16px;
      padding:1rem;
    }
    .group-title{margin:0 0 .6rem;color:var(--muted);font-weight:600}
    .cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:.8rem}
    .card{
      position:relative;
      background:var(--paper);
      border:1px solid var(--line);
      border-radius:16px;
      padding:1rem;
      min-height:160px;
      display:flex;flex-direction:column;gap:.5rem;
      box-shadow:0 6px 18px rgba(0,0,0,.05);
    }
    @media (prefers-reduced-motion:no-preference){
      .card{transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease}
      .card:hover{transform:translateY(-2px); box-shadow:0 10px 26px rgba(0,0,0,.08)}
    }

    /* Favorite star */
    .fav{
      position:absolute;right:.5rem;top:.5rem;
      border:0;background:transparent;color:var(--muted);
      font-size:1.2rem;cursor:pointer;line-height:1;
    }
    .fav.active{color:var(--accent)}

    /* Card text */
    .eyebrow{font-size:.8rem;color:var(--muted)}
    .title{margin:.1rem 0;font-size:1.05rem;color:var(--ink)}
    .meta{font-size:.9rem;color:var(--muted)}
    .desc{margin:.2rem 0 .4rem;color:#444}

    /* Tags */
    .tags{display:flex;flex-wrap:wrap;gap:.35rem}
    .tag{
      font-size:.72rem;
      color:#ffffff;
      background:var(--tag);
      padding:.2rem .45rem;
      border-radius:999px;
    }

    /* Buttons */
    .btn{
      display:inline-block;
      text-decoration:none;
      background:var(--accent);
      color:#ffffff;
      border-radius:10px;
      padding:.45rem .7rem;
      border:1px solid var(--accent);
      font-weight:600;
    }
    .btn:hover{background:var(--accent-2); border-color:var(--accent-2)}
    .btn:focus{outline:2px solid var(--ring); outline-offset:2px}

    /* Footer */
    footer.container{
      color:var(--muted);
      padding:2rem 1.25rem;
      text-align:center;
      border-top:1px solid var(--line);
      background:var(--panel);
      border-radius:16px 16px 0 0;
    }
  </style>
</head>
<body>
  <header class="site">
    <h1>Lecture Hub</h1>
    <p class="sub">Calculus III · Linear Algebra</p>
  </header>

  <main class="container">
    <section class="controls" aria-label="Filters and search">
      <div class="row">
        <label><span class="lbl">Course</span>
          <select id="filter-course"><option value="">All courses</option></select>
        </label>
        <label><span class="lbl">Semester</span>
          <select id="filter-semester"><option value="">All</option></select>
        </label>
        <label style="flex:1"><span class="lbl">Search</span>
          <input id="search" type="search" placeholder="topic, tag, date (YYYY-MM-DD), theorem…">
        </label>
        <label style="align-self:center"><input id="toggle-favorites" type="checkbox"> Favorites</label>
        <label style="align-self:center"><input id="toggle-recent" type="checkbox"> Recent first</label>
      </div>
    </section>

    <section id="groups" class="groups" aria-live="polite"></section>

    <template id="tpl-group">
      <div class="group">
        <h2 class="group-title"></h2>
        <div class="cards" role="list"></div>
      </div>
    </template>

    <template id="tpl-card">
      <article class="card" role="listitem">
        <button class="fav" title="Toggle favorite" aria-label="Toggle favorite">☆</button>
        <header>
          <div class="eyebrow"></div>
          <h3 class="title"></h3>
          <div class="meta"></div>
        </header>
        <p class="desc"></p>
        <div class="tags"></div>
        <footer><a class="btn" target="_blank" rel="noopener" href="#">Open</a></footer>
      </article>
    </template>
  </main>

  <footer class="container">
    <small>MathAgora · Dr. Esteban Díaz</small>
  </footer>

  <script type="module" src="/js/hub.js"></script>
  <noscript>
    <p class="container">JavaScript is off. You can still open <a href="/data/lectures.json">the manifest</a> and navigate manually.</p>
  </noscript>
</body>
</html>