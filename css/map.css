.map-svg { width: 100%; height: 100%; display: block; background: #ffffff; }
.map-preview { border: 1px dashed var(--line); border-radius: 8px; overflow: hidden; height: 260px; background: #fff; }

.map-float {
  position: fixed; inset: 50% auto auto 50%; width: min(80vw, 1200px); height: min(80vh, 820px);
  transform: translate(-50%, -50%) scale(0.98); border: 1px solid var(--line); border-radius: 14px; background: #fff;
  box-shadow: 0 28px 90px rgba(0,0,0,0.35); z-index: 1100; opacity: 0; pointer-events: none;
  display: grid; grid-template-rows: auto 1fr; transition: transform 160ms ease, opacity 160ms ease;
}
.map-float[aria-hidden="false"] { opacity: 1; transform: translate(-50%, -50%) scale(1); pointer-events: auto; }
.map-float-header { display:flex; align-items:center; justify-content: space-between; gap:8px; padding:6px 8px; border-bottom:1px solid var(--line); background:#f9fafb; border-radius: 14px 14px 0 0; }
.map-host { position: relative; overflow: hidden; border-radius: 0 0 14px 14px; }
.map-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.45); backdrop-filter: blur(2px); z-index: 1099; }

.map-link { stroke: #c7cdd6; stroke-width: 2; }
.map-node circle { fill: #0f6ab4; opacity: 0.12; }
.map-node text { font-size: 12px; fill: var(--ink); paint-order: stroke; stroke: #fff; stroke-width: 3; stroke-opacity: 0.8; }